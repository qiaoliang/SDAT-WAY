# 检查清单验证任务

此任务提供根据检查清单验证文档的指令。agent 必须遵循这些指令以确保对文档进行彻底和系统的验证。

## 可用检查清单

如果用户询问或未指定特定检查清单，列出 agent 角色可用的检查清单。如果任务不是与特定 agent 一起运行，告诉用户检查 {root}/checklists 文件夹以选择要运行的适当检查清单。

## 指令

1. **初始评估**
    - 如果用户或正在运行的任务提供检查清单名称：
        - 尝试模糊匹配（例如 "architecture checklist" -> "architect-checklist"）
        - 如果找到多个匹配项，请用户澄清
        - 从 {root}/checklists/ 加载适当的检查清单
    - 如果未指定检查清单：
        - 询问用户想要使用哪个检查清单
        - 从 checklists 文件夹中的文件呈现可用选项
    - 确认他们是否想要通过检查清单工作：
        - 逐章节（交互模式 - 非常耗时）
        - 一次性全部（YOLO 模式 - 推荐用于检查清单，最后会有章节摘要供讨论）

2. **文档和工件收集**
    - 每个检查清单将在开头指定其所需的文档/工件
    - 遵循检查清单的具体指令来收集内容，通常可以在 docs 文件夹中解析文件，如果不是或不确定，停止并询问或与用户确认。

3. **检查清单处理**

    如果在交互模式下：
    - 一次处理检查清单的每个章节
    - 对于每个章节：
        - 按照嵌入在检查清单中的该章节指令审查章节中的所有项目
        - 根据相关文档或工件适当检查每个项目
        - 呈现该章节的调查结果摘要，突出警告、错误和不适用项目（不适用的理由）
        - 在继续下一章节或如果有任何重大问题需要停止并采取纠正措施之前获得用户确认

    如果在 YOLO 模式下：
    - 一次性处理所有章节
    - 创建所有调查结果的综合报告
    - 向用户呈现完整分析

4. **验证方法**

    对于每个检查清单项目：
    - 阅读并理解要求
    - 在文档中寻找满足要求的证据
    - 考虑明确提及和隐含覆盖
    - 除此之外，遵循所有检查清单 LLM 指令
    - 将项目标记为：
        - ✅ PASS: 要求明确满足
        - ❌ FAIL: 要求未满足或覆盖不足
        - ⚠️ PARTIAL: 涵盖某些方面但需要改进
        - N/A: 不适用于此情况

5. **章节分析**

    对于每个章节：
    - 逐步思考计算通过率
    - 识别失败项目中的共同主题
    - 提供具体的改进建议
    - 在交互模式下，与用户讨论调查结果
    - 记录任何用户决定或解释

6. **最终报告**

    准备包含以下内容的摘要：
    - 整体检查清单完成状态
    - 按章节的通过率
    - 失败项目列表及上下文
    - 具体的改进建议
    - 任何标记为 N/A 的章节或项目及理由

## 检查清单执行方法

每个检查清单现在包含嵌入的 LLM 提示和指令，这些将：

1. **指导深入思考** - 提示确保对每个章节进行深入分析
2. **请求特定工件** - 关于需要什么文档/访问的清晰指令
3. **提供上下文指导** - 章节特定的提示以更好地验证
4. **生成综合报告** - 带有详细调查结果的最终摘要

LLM 将：

- 执行完整的检查清单验证
- 呈现带有通过/失败率和关键调查结果的最终报告
- 提供对任何章节的详细分析，特别是那些有警告或失败的章节
