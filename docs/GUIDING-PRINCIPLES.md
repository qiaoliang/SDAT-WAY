# SDAT Method 指导原则

SDAT Method是一个用于AI辅助软件开发的自然语言框架。这些原则确保贡献保持方法的有效性。

## 核心原则

### 1. 开发代理必须精简

- **最小化开发代理依赖**：在IDE中工作的开发代理必须具有最小的上下文开销
- **为代码保存上下文**：每一行都很重要 - 开发代理应该专注于编码，而不是文档
- **Web代理可以更大**：在Web UI中使用的规划代理（PRD编写器、架构师）可以具有更复杂的任务和依赖
- **小文件，按需加载**：多个小的、专注的文件比具有许多分支的大文件更好

### 2. 自然语言优先

- **一切都是markdown**：代理、任务、模板 - 全部用纯英文编写
- **核心中没有代码**：框架本身不包含编程代码，只有自然语言指令
- **自包含模板**：模板定义为YAML文件，具有结构化部分，包括元数据、工作流程配置和内容生成的详细指令

### 3. 代理和任务设计

- **代理定义角色**：每个代理是具有特定专业知识的角色（例如，前端开发人员、API开发人员）
- **任务是程序**：代理完成工作所遵循的逐步指令
- **模板是输出**：具有嵌入生成指令的结构化文档
- **依赖关系很重要**：明确声明仅需要的内容

## 实用指导原则

### 何时添加到核心

- 仅限通用软件开发需求
- 不会使开发代理上下文膨胀
- 遵循现有的代理/任务/模板模式

### 何时创建扩展包

- 软件开发之外的特定领域需求
- 非技术领域（商业、健康、教育、创意）
- 专业技术领域（游戏、基础设施、移动）
- 大量文档或知识库
- 任何会使核心代理膨胀的内容

有关详细示例和想法，请参阅[扩展包指南](../docs/expansion-packs.md)。

### 代理设计规则

1. **Web/规划代理**：可以具有更丰富的上下文、多个任务、广泛的模板
2. **开发代理**：最小依赖、专注于代码生成、精简任务集
3. **所有代理**：清晰的角色、特定专业知识、明确定义的能力

### 任务编写规则

1. 编写清晰的逐步程序
2. 使用markdown格式以提高可读性
3. 保持开发代理任务专注和简洁
4. 规划任务可以更详细
5. **更喜欢多个小任务而不是一个大分支任务**
    - 而不是一个具有许多条件路径的任务
    - 创建代理可以选择多个专注任务
    - 这保持上下文开销最小
6. **重用常见任务** - 不要创建新的文档创建任务
    - 使用现有的`create-doc`任务
    - 传递具有结构化部分的适当YAML模板
    - 这保持一致性并减少重复

### 模板规则

模板遵循[SDAT文档模板](common/utils/sdat-doc-template.md)规范，使用YAML格式：

1. **结构**：模板在YAML中定义，具有清晰的元数据、工作流程配置和部分层次结构
2. **关注点分离**：LLM的指令在`instruction`字段中，与内容分开
3. **可重用性**：模板是代理无关的，可以在不同代理中使用
4. **关键组件**：
    - `template`块用于元数据（id、name、version、输出设置）
    - `workflow`块用于交互模式配置
    - `sections`数组定义具有嵌套子部分的文档结构
    - 每个部分都有`id`、`title`和`instruction`字段
5. **高级功能**：
    - 使用`{{variable_name}}`语法的变量替换
    - 具有`condition`字段的条件部分
    - 具有`repeatable: true`的可重复部分
    - 具有`owner`和`editors`字段的代理权限
    - 用于指导的示例数组（从不包含在输出中）
6. **干净输出**：YAML结构确保所有处理逻辑与生成的内容保持分离

## 记住

- 力量在于自然语言编排，而不是代码
- 开发代理编码，规划代理规划
- 保持开发代理精简以获得最大编码效率
- 扩展包处理特定领域
